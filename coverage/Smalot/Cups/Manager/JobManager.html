<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta http-equiv="Content-Language" content="en" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>CupsIpp : code coverage of Smalot\Cups\Manager\JobManager</title>
		<link rel="stylesheet" media="screen" type="text/css" href="../../../screen.css" title="Screen" />
	</head>
	<body>
		<div id="header">
			<h1>Code coverage of <a href="../../../index.html">CupsIpp</a>: Smalot\Cups\Manager\JobManager</h1>
			<h2>Class code coverage <span>17.71%</span></h2>
		</div>
		<div id="page">
			<div id="content">
				<h3>Methods</h3>
				<ul class="summary">
					
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 100%"></div>
										<div class="label">
											<span class="percent">100%</span>
											<a href="#__construct">__construct</a>
										</div>
									</div>
								
							</li>
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 57.14%"></div>
										<div class="label">
											<span class="percent">57.14%</span>
											<a href="#getList">getList</a>
										</div>
									</div>
								
							</li>
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 0%"></div>
										<div class="label">
											<span class="percent">0%</span>
											<a href="#loadAttributes">loadAttributes</a>
										</div>
									</div>
								
							</li>
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 0%"></div>
										<div class="label">
											<span class="percent">0%</span>
											<a href="#cancel">cancel</a>
										</div>
									</div>
								
							</li>
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 0%"></div>
										<div class="label">
											<span class="percent">0%</span>
											<a href="#release">release</a>
										</div>
									</div>
								
							</li>
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 0%"></div>
										<div class="label">
											<span class="percent">0%</span>
											<a href="#hold">hold</a>
										</div>
									</div>
								
							</li>
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 0%"></div>
										<div class="label">
											<span class="percent">0%</span>
											<a href="#restart">restart</a>
										</div>
									</div>
								
							</li>
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 50.7%"></div>
										<div class="label">
											<span class="percent">50.7%</span>
											<a href="#prepareGetListRequest">prepareGetListRequest</a>
										</div>
									</div>
								
							</li>
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 0%"></div>
										<div class="label">
											<span class="percent">0%</span>
											<a href="#prepareLoadAttributesRequest">prepareLoadAttributesRequest</a>
										</div>
									</div>
								
							</li>
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 0%"></div>
										<div class="label">
											<span class="percent">0%</span>
											<a href="#prepareCancelRequest">prepareCancelRequest</a>
										</div>
									</div>
								
							</li>
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 0%"></div>
										<div class="label">
											<span class="percent">0%</span>
											<a href="#prepareReleaseRequest">prepareReleaseRequest</a>
										</div>
									</div>
								
							</li>
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 0%"></div>
										<div class="label">
											<span class="percent">0%</span>
											<a href="#prepareHoldRequest">prepareHoldRequest</a>
										</div>
									</div>
								
							</li>
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 0%"></div>
										<div class="label">
											<span class="percent">0%</span>
											<a href="#prepareRestartRequest">prepareRestartRequest</a>
										</div>
									</div>
								
							</li>
						
							<li>
								
								
									<div class="bar">
										<div class="background"></div>
										<div class="graph" style="width: 0%"></div>
										<div class="label">
											<span class="percent">0%</span>
											<a href="#fillAttributes">fillAttributes</a>
										</div>
									</div>
								
							</li>
						
					
				</ul>
				<h3>Source</h3>
				<table cellpadding="0" cellspacing="0" class="source">
					<tr><th class="number">Line</th><th>Code</th></tr>
					<tr><td class="number">1</td><td><pre>&lt;?php
</pre></td></tr><tr><td class="number">2</td><td><pre>
</pre></td></tr><tr><td class="number">3</td><td><pre>namespace Smalot\Cups\Manager;
</pre></td></tr><tr><td class="number">4</td><td><pre>
</pre></td></tr><tr><td class="number">5</td><td><pre>use Http\Client\HttpClient;
</pre></td></tr><tr><td class="number">6</td><td><pre>use Smalot\Cups\CupsException;
</pre></td></tr><tr><td class="number">7</td><td><pre>use Smalot\Cups\Model\Job;
</pre></td></tr><tr><td class="number">8</td><td><pre>use Smalot\Cups\Model\JobInterface;
</pre></td></tr><tr><td class="number">9</td><td><pre>use Smalot\Cups\Transport\Response as CupsResponse;
</pre></td></tr><tr><td class="number">10</td><td><pre>use GuzzleHttp\Psr7\Request;
</pre></td></tr><tr><td class="number">11</td><td><pre>
</pre></td></tr><tr><td class="number">12</td><td><pre>/**
</pre></td></tr><tr><td class="number">13</td><td><pre> * Class Job
</pre></td></tr><tr><td class="number">14</td><td><pre> *
</pre></td></tr><tr><td class="number">15</td><td><pre> * @package Smalot\Cups\Manager
</pre></td></tr><tr><td class="number">16</td><td><pre> */
</pre></td></tr><tr><td class="number">17</td><td><pre>class JobManager extends ManagerAbstract
</pre></td></tr><tr><td class="number">18</td><td><pre>{
</pre></td></tr><tr><td class="number">19</td><td><pre>
</pre></td></tr><tr><td class="number">20</td><td><pre>    /**
</pre></td></tr><tr><td class="number">21</td><td><pre>     * @var \Http\Client\HttpClient
</pre></td></tr><tr><td class="number">22</td><td><pre>     */
</pre></td></tr><tr><td class="number">23</td><td><pre>    protected $client;
</pre></td></tr><tr><td class="number">24</td><td><pre>
</pre></td></tr><tr><td class="number">25</td><td><pre>    /**
</pre></td></tr><tr><td class="number">26</td><td><pre>     * Printer constructor.
</pre></td></tr><tr><td class="number">27</td><td><pre>     *
</pre></td></tr><tr><td class="number">28</td><td><pre>     * @param \Http\Client\HttpClient $client
</pre></td></tr><tr><td class="number">29</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="__construct"></a>30</td><td><pre>    public function __construct(HttpClient $client)
</pre></td></tr><tr><td class="number"><a name="__construct"></a>31</td><td><pre>    {
</pre></td></tr><tr class="covered"><td class="number">32</td><td><pre>        parent::__construct();
</pre></td></tr><tr><td class="number"><a name="__construct"></a>33</td><td><pre>
</pre></td></tr><tr class="covered"><td class="number">34</td><td><pre>        $this-&gt;client = $client;
</pre></td></tr><tr><td class="number"><a name="__construct"></a>35</td><td><pre>
</pre></td></tr><tr class="covered"><td class="number">36</td><td><pre>        $this-&gt;setCharset(&#039;us-ascii&#039;);
</pre></td></tr><tr class="covered"><td class="number">37</td><td><pre>        $this-&gt;setLanguage(&#039;en-us&#039;);
</pre></td></tr><tr class="covered"><td class="number">38</td><td><pre>        $this-&gt;setOperationId(0);
</pre></td></tr><tr class="covered"><td class="number">39</td><td><pre>        $this-&gt;setUsername(&#039;&#039;);
</pre></td></tr><tr class="covered"><td class="number">40</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="__construct"></a>41</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="__construct"></a>42</td><td><pre>    /**
</pre></td></tr><tr><td class="number"><a name="__construct"></a>43</td><td><pre>     * @param string $uri
</pre></td></tr><tr><td class="number"><a name="__construct"></a>44</td><td><pre>     * @param bool $myJobs
</pre></td></tr><tr><td class="number"><a name="__construct"></a>45</td><td><pre>     * @param int $limit
</pre></td></tr><tr><td class="number"><a name="__construct"></a>46</td><td><pre>     * @param string $whichJobs
</pre></td></tr><tr><td class="number"><a name="__construct"></a>47</td><td><pre>     * @param bool $subset
</pre></td></tr><tr><td class="number"><a name="__construct"></a>48</td><td><pre>     *
</pre></td></tr><tr><td class="number"><a name="__construct"></a>49</td><td><pre>     * @return \Smalot\Cups\Model\JobInterface[]
</pre></td></tr><tr><td class="number"><a name="__construct"></a>50</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="getList"></a>51</td><td><pre>    public function getList(
</pre></td></tr><tr><td class="number"><a name="getList"></a>52</td><td><pre>      $uri,
</pre></td></tr><tr><td class="number"><a name="getList"></a>53</td><td><pre>      $myJobs = true,
</pre></td></tr><tr><td class="number"><a name="getList"></a>54</td><td><pre>      $limit = 0,
</pre></td></tr><tr><td class="number"><a name="getList"></a>55</td><td><pre>      $whichJobs = &#039;not-completed&#039;,
</pre></td></tr><tr><td class="number"><a name="getList"></a>56</td><td><pre>      $subset = false
</pre></td></tr><tr><td class="number"><a name="getList"></a>57</td><td><pre>    ) {
</pre></td></tr><tr class="covered"><td class="number">58</td><td><pre>        $request = $this-&gt;prepareGetListRequest($uri, $myJobs, $limit, $whichJobs, $subset);
</pre></td></tr><tr class="covered"><td class="number">59</td><td><pre>        $response = $this-&gt;client-&gt;sendRequest($request);
</pre></td></tr><tr class="covered"><td class="number">60</td><td><pre>        $result = CupsResponse::parseResponse($response);
</pre></td></tr><tr class="covered"><td class="number">61</td><td><pre>        $values = $result-&gt;getValues();
</pre></td></tr><tr><td class="number"><a name="getList"></a>62</td><td><pre>
</pre></td></tr><tr class="covered"><td class="number">63</td><td><pre>        $list = [];
</pre></td></tr><tr class="covered"><td class="number">64</td><td><pre>
</pre></td></tr><tr class="covered"><td class="number">65</td><td><pre>        if (!empty($values[&#039;job-attributes&#039;])) {
</pre></td></tr><tr class="notCovered"><td class="number">66</td><td><pre>            foreach ($values[&#039;job-attributes&#039;] as $values) {
</pre></td></tr><tr class="notCovered"><td class="number">67</td><td><pre>                $job = new Job();
</pre></td></tr><tr class="notCovered"><td class="number">68</td><td><pre>                $this-&gt;fillAttributes($job, $values);
</pre></td></tr><tr><td class="number"><a name="getList"></a>69</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">70</td><td><pre>                $list[] = $job;
</pre></td></tr><tr class="notCovered"><td class="number">71</td><td><pre>            }
</pre></td></tr><tr class="notCovered"><td class="number">72</td><td><pre>        }
</pre></td></tr><tr><td class="number"><a name="getList"></a>73</td><td><pre>
</pre></td></tr><tr class="covered"><td class="number">74</td><td><pre>        return $list;
</pre></td></tr><tr><td class="number"><a name="getList"></a>75</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="getList"></a>76</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="getList"></a>77</td><td><pre>    /**
</pre></td></tr><tr><td class="number"><a name="getList"></a>78</td><td><pre>     * @param \Smalot\Cups\Model\JobInterface $job
</pre></td></tr><tr><td class="number"><a name="getList"></a>79</td><td><pre>     * @param bool $subset
</pre></td></tr><tr><td class="number"><a name="getList"></a>80</td><td><pre>     * @param string $attributesGroup
</pre></td></tr><tr><td class="number"><a name="getList"></a>81</td><td><pre>     *
</pre></td></tr><tr><td class="number"><a name="getList"></a>82</td><td><pre>     * @return \Smalot\Cups\Model\JobInterface
</pre></td></tr><tr><td class="number"><a name="getList"></a>83</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="loadAttributes"></a>84</td><td><pre>    public function loadAttributes(JobInterface $job, $subset = false, $attributesGroup = &#039;all&#039;)
</pre></td></tr><tr><td class="number"><a name="loadAttributes"></a>85</td><td><pre>    {
</pre></td></tr><tr class="notCovered"><td class="number">86</td><td><pre>        $request = $this-&gt;prepareLoadAttributesRequest($job-&gt;getUri(), $subset, $attributesGroup);
</pre></td></tr><tr class="notCovered"><td class="number">87</td><td><pre>        $response = $this-&gt;client-&gt;sendRequest($request);
</pre></td></tr><tr class="notCovered"><td class="number">88</td><td><pre>        $result = CupsResponse::parseResponse($response);
</pre></td></tr><tr class="notCovered"><td class="number">89</td><td><pre>        $values = $result-&gt;getValues();
</pre></td></tr><tr><td class="number"><a name="loadAttributes"></a>90</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">91</td><td><pre>        if (isset($values[&#039;job-attributes&#039;][0])) {
</pre></td></tr><tr class="notCovered"><td class="number">92</td><td><pre>            $this-&gt;fillAttributes($job, $values[&#039;job-attributes&#039;][0]);
</pre></td></tr><tr class="notCovered"><td class="number">93</td><td><pre>        }
</pre></td></tr><tr><td class="number"><a name="loadAttributes"></a>94</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">95</td><td><pre>        return $job;
</pre></td></tr><tr><td class="number"><a name="loadAttributes"></a>96</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="loadAttributes"></a>97</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="loadAttributes"></a>98</td><td><pre>    /**
</pre></td></tr><tr><td class="number"><a name="loadAttributes"></a>99</td><td><pre>     * @param JobInterface $job
</pre></td></tr><tr><td class="number"><a name="loadAttributes"></a>100</td><td><pre>     *
</pre></td></tr><tr><td class="number"><a name="loadAttributes"></a>101</td><td><pre>     * @return bool
</pre></td></tr><tr><td class="number"><a name="loadAttributes"></a>102</td><td><pre>     * @throws \Smalot\Cups\CupsException
</pre></td></tr><tr><td class="number"><a name="loadAttributes"></a>103</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="cancel"></a>104</td><td><pre>    public function cancel(JobInterface $job)
</pre></td></tr><tr><td class="number"><a name="cancel"></a>105</td><td><pre>    {
</pre></td></tr><tr class="notCovered"><td class="number">106</td><td><pre>        $request = $this-&gt;prepareCancelRequest($job-&gt;getUri());
</pre></td></tr><tr class="notCovered"><td class="number">107</td><td><pre>        $response = $this-&gt;client-&gt;sendRequest($request);
</pre></td></tr><tr class="notCovered"><td class="number">108</td><td><pre>        $result = CupsResponse::parseResponse($response);
</pre></td></tr><tr><td class="number"><a name="cancel"></a>109</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">110</td><td><pre>        if ($result-&gt;getStatusCode() != &#039;successfull-ok&#039;) {
</pre></td></tr><tr class="notCovered"><td class="number">111</td><td><pre>            $message = $result-&gt;getStatusMessage() ?:$result-&gt;getStatusCode();
</pre></td></tr><tr class="notCovered"><td class="number">112</td><td><pre>            throw new CupsException($message);
</pre></td></tr><tr><td class="number"><a name="cancel"></a>113</td><td><pre>        }
</pre></td></tr><tr><td class="number"><a name="cancel"></a>114</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">115</td><td><pre>        return true;
</pre></td></tr><tr><td class="number"><a name="cancel"></a>116</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="cancel"></a>117</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="cancel"></a>118</td><td><pre>    /**
</pre></td></tr><tr><td class="number"><a name="cancel"></a>119</td><td><pre>     * @param JobInterface $job
</pre></td></tr><tr><td class="number"><a name="cancel"></a>120</td><td><pre>     *
</pre></td></tr><tr><td class="number"><a name="cancel"></a>121</td><td><pre>     * @return bool
</pre></td></tr><tr><td class="number"><a name="cancel"></a>122</td><td><pre>     * @throws \Smalot\Cups\CupsException
</pre></td></tr><tr><td class="number"><a name="cancel"></a>123</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="release"></a>124</td><td><pre>    public function release(JobInterface $job)
</pre></td></tr><tr><td class="number"><a name="release"></a>125</td><td><pre>    {
</pre></td></tr><tr class="notCovered"><td class="number">126</td><td><pre>        $request = $this-&gt;prepareReleaseRequest($job-&gt;getUri());
</pre></td></tr><tr class="notCovered"><td class="number">127</td><td><pre>        $response = $this-&gt;client-&gt;sendRequest($request);
</pre></td></tr><tr class="notCovered"><td class="number">128</td><td><pre>        $result = CupsResponse::parseResponse($response);
</pre></td></tr><tr><td class="number"><a name="release"></a>129</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">130</td><td><pre>        if ($result-&gt;getStatusCode() != &#039;successfull-ok&#039;) {
</pre></td></tr><tr class="notCovered"><td class="number">131</td><td><pre>            $message = $result-&gt;getStatusMessage() ?:$result-&gt;getStatusCode();
</pre></td></tr><tr class="notCovered"><td class="number">132</td><td><pre>            throw new CupsException($message);
</pre></td></tr><tr><td class="number"><a name="release"></a>133</td><td><pre>        }
</pre></td></tr><tr><td class="number"><a name="release"></a>134</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">135</td><td><pre>        return true;
</pre></td></tr><tr><td class="number"><a name="release"></a>136</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="release"></a>137</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="release"></a>138</td><td><pre>    /**
</pre></td></tr><tr><td class="number"><a name="release"></a>139</td><td><pre>     * @param JobInterface $job
</pre></td></tr><tr><td class="number"><a name="release"></a>140</td><td><pre>     * @param string $until
</pre></td></tr><tr><td class="number"><a name="release"></a>141</td><td><pre>     *
</pre></td></tr><tr><td class="number"><a name="release"></a>142</td><td><pre>     * @return bool
</pre></td></tr><tr><td class="number"><a name="release"></a>143</td><td><pre>     * @throws \Smalot\Cups\CupsException
</pre></td></tr><tr><td class="number"><a name="release"></a>144</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="hold"></a>145</td><td><pre>    public function hold(JobInterface $job, $until = &#039;indefinite&#039;)
</pre></td></tr><tr><td class="number"><a name="hold"></a>146</td><td><pre>    {
</pre></td></tr><tr class="notCovered"><td class="number">147</td><td><pre>        $request = $this-&gt;prepareHoldRequest($job-&gt;getUri(), $until);
</pre></td></tr><tr class="notCovered"><td class="number">148</td><td><pre>        $response = $this-&gt;client-&gt;sendRequest($request);
</pre></td></tr><tr class="notCovered"><td class="number">149</td><td><pre>        $result = CupsResponse::parseResponse($response);
</pre></td></tr><tr><td class="number"><a name="hold"></a>150</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">151</td><td><pre>        if ($result-&gt;getStatusCode() != &#039;successfull-ok&#039;) {
</pre></td></tr><tr class="notCovered"><td class="number">152</td><td><pre>            $message = $result-&gt;getStatusMessage() ?:$result-&gt;getStatusCode();
</pre></td></tr><tr class="notCovered"><td class="number">153</td><td><pre>            throw new CupsException($message);
</pre></td></tr><tr><td class="number"><a name="hold"></a>154</td><td><pre>        }
</pre></td></tr><tr><td class="number"><a name="hold"></a>155</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">156</td><td><pre>        return true;
</pre></td></tr><tr><td class="number"><a name="hold"></a>157</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="hold"></a>158</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="hold"></a>159</td><td><pre>    /**
</pre></td></tr><tr><td class="number"><a name="hold"></a>160</td><td><pre>     * @param JobInterface $job
</pre></td></tr><tr><td class="number"><a name="hold"></a>161</td><td><pre>     *
</pre></td></tr><tr><td class="number"><a name="hold"></a>162</td><td><pre>     * @return bool
</pre></td></tr><tr><td class="number"><a name="hold"></a>163</td><td><pre>     * @throws \Smalot\Cups\CupsException
</pre></td></tr><tr><td class="number"><a name="hold"></a>164</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="restart"></a>165</td><td><pre>    public function restart(JobInterface $job)
</pre></td></tr><tr><td class="number"><a name="restart"></a>166</td><td><pre>    {
</pre></td></tr><tr class="notCovered"><td class="number">167</td><td><pre>        $request = $this-&gt;prepareRestartRequest($job-&gt;getUri());
</pre></td></tr><tr class="notCovered"><td class="number">168</td><td><pre>        $response = $this-&gt;client-&gt;sendRequest($request);
</pre></td></tr><tr class="notCovered"><td class="number">169</td><td><pre>        $result = CupsResponse::parseResponse($response);
</pre></td></tr><tr><td class="number"><a name="restart"></a>170</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">171</td><td><pre>        if ($result-&gt;getStatusCode() != &#039;successfull-ok&#039;) {
</pre></td></tr><tr class="notCovered"><td class="number">172</td><td><pre>            $message = $result-&gt;getStatusMessage() ?:$result-&gt;getStatusCode();
</pre></td></tr><tr class="notCovered"><td class="number">173</td><td><pre>            throw new CupsException($message);
</pre></td></tr><tr><td class="number"><a name="restart"></a>174</td><td><pre>        }
</pre></td></tr><tr><td class="number"><a name="restart"></a>175</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">176</td><td><pre>        return true;
</pre></td></tr><tr><td class="number"><a name="restart"></a>177</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="restart"></a>178</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="restart"></a>179</td><td><pre>    /**
</pre></td></tr><tr><td class="number"><a name="restart"></a>180</td><td><pre>     * @param string $uri
</pre></td></tr><tr><td class="number"><a name="restart"></a>181</td><td><pre>     * @param bool $myJobs
</pre></td></tr><tr><td class="number"><a name="restart"></a>182</td><td><pre>     * @param int $limit
</pre></td></tr><tr><td class="number"><a name="restart"></a>183</td><td><pre>     * @param string $whichJobs
</pre></td></tr><tr><td class="number"><a name="restart"></a>184</td><td><pre>     * @param bool $subset
</pre></td></tr><tr><td class="number"><a name="restart"></a>185</td><td><pre>     *
</pre></td></tr><tr><td class="number"><a name="restart"></a>186</td><td><pre>     * @return \GuzzleHttp\Psr7\Request
</pre></td></tr><tr><td class="number"><a name="restart"></a>187</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>188</td><td><pre>    protected function prepareGetListRequest(
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>189</td><td><pre>      $uri,
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>190</td><td><pre>      $myJobs = true,
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>191</td><td><pre>      $limit = 0,
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>192</td><td><pre>      $whichJobs = &#039;not-completed&#039;,
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>193</td><td><pre>      $subset = false
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>194</td><td><pre>    ) {
</pre></td></tr><tr class="covered"><td class="number">195</td><td><pre>        $charset = $this-&gt;buildCharset();
</pre></td></tr><tr class="covered"><td class="number">196</td><td><pre>        $language = $this-&gt;buildLanguage();
</pre></td></tr><tr class="covered"><td class="number">197</td><td><pre>        $operationId = $this-&gt;buildOperationId();
</pre></td></tr><tr class="covered"><td class="number">198</td><td><pre>        $username = $this-&gt;buildUsername();
</pre></td></tr><tr class="covered"><td class="number">199</td><td><pre>        $printerUri = $this-&gt;buildPrinterURI($uri);
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>200</td><td><pre>
</pre></td></tr><tr class="covered"><td class="number">201</td><td><pre>        if ($limit) {
</pre></td></tr><tr class="notCovered"><td class="number">202</td><td><pre>            $limit = $this-&gt;buildInteger($limit);
</pre></td></tr><tr class="notCovered"><td class="number">203</td><td><pre>            $metaLimit = chr(0x21) // integer
</pre></td></tr><tr class="notCovered"><td class="number">204</td><td><pre>              .$this-&gt;getStringLength(&#039;limit&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">205</td><td><pre>              .&#039;limit&#039;
</pre></td></tr><tr class="notCovered"><td class="number">206</td><td><pre>              .$this-&gt;getStringLength($limit)
</pre></td></tr><tr class="notCovered"><td class="number">207</td><td><pre>              .$limit;
</pre></td></tr><tr class="notCovered"><td class="number">208</td><td><pre>        } else {
</pre></td></tr><tr class="covered"><td class="number">209</td><td><pre>            $metaLimit = &#039;&#039;;
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>210</td><td><pre>        }
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>211</td><td><pre>
</pre></td></tr><tr class="covered"><td class="number">212</td><td><pre>        if ($whichJobs == &#039;completed&#039;) {
</pre></td></tr><tr class="notCovered"><td class="number">213</td><td><pre>            $metaWhichJobs = chr(0x44) // keyword
</pre></td></tr><tr class="notCovered"><td class="number">214</td><td><pre>              .$this-&gt;getStringLength(&#039;which-jobs&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">215</td><td><pre>              .&#039;which-jobs&#039;
</pre></td></tr><tr class="notCovered"><td class="number">216</td><td><pre>              .$this-&gt;getStringLength($whichJobs)
</pre></td></tr><tr class="notCovered"><td class="number">217</td><td><pre>              .$whichJobs;
</pre></td></tr><tr class="notCovered"><td class="number">218</td><td><pre>        } else {
</pre></td></tr><tr class="covered"><td class="number">219</td><td><pre>            $metaWhichJobs = &#039;&#039;;
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>220</td><td><pre>        }
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>221</td><td><pre>
</pre></td></tr><tr class="covered"><td class="number">222</td><td><pre>        if ($myJobs) {
</pre></td></tr><tr class="covered"><td class="number">223</td><td><pre>            $metaMyJobs = chr(0x22) // boolean
</pre></td></tr><tr class="covered"><td class="number">224</td><td><pre>              .$this-&gt;getStringLength(&#039;my-jobs&#039;)
</pre></td></tr><tr class="covered"><td class="number">225</td><td><pre>              .&#039;my-jobs&#039;
</pre></td></tr><tr class="covered"><td class="number">226</td><td><pre>              .$this-&gt;getStringLength(chr(0x01))
</pre></td></tr><tr class="covered"><td class="number">227</td><td><pre>              .chr(0x01);
</pre></td></tr><tr class="covered"><td class="number">228</td><td><pre>        } else {
</pre></td></tr><tr class="notCovered"><td class="number">229</td><td><pre>            $metaMyJobs = &#039;&#039;;
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>230</td><td><pre>        }
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>231</td><td><pre>
</pre></td></tr><tr class="covered"><td class="number">232</td><td><pre>        $content = chr(0x01).chr(0x01) // 1.1  | version-number
</pre></td></tr><tr class="covered"><td class="number">233</td><td><pre>          .chr(0x00).chr(0x0A) // Get-Jobs | operation-id
</pre></td></tr><tr class="covered"><td class="number">234</td><td><pre>          .$operationId //           request-id
</pre></td></tr><tr class="covered"><td class="number">235</td><td><pre>          .chr(0x01) // start operation-attributes | operation-attributes-tag
</pre></td></tr><tr class="covered"><td class="number">236</td><td><pre>          .$charset
</pre></td></tr><tr class="covered"><td class="number">237</td><td><pre>          .$language
</pre></td></tr><tr class="covered"><td class="number">238</td><td><pre>          .$printerUri
</pre></td></tr><tr class="covered"><td class="number">239</td><td><pre>          .$username
</pre></td></tr><tr class="covered"><td class="number">240</td><td><pre>          .$metaLimit
</pre></td></tr><tr class="covered"><td class="number">241</td><td><pre>          .$metaWhichJobs
</pre></td></tr><tr class="covered"><td class="number">242</td><td><pre>          .$metaMyJobs;
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>243</td><td><pre>
</pre></td></tr><tr class="covered"><td class="number">244</td><td><pre>        if ($subset) {
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>245</td><td><pre>            $content .=
</pre></td></tr><tr class="notCovered"><td class="number">246</td><td><pre>              chr(0x44) // keyword
</pre></td></tr><tr class="notCovered"><td class="number">247</td><td><pre>              .$this-&gt;getStringLength(&#039;requested-attributes&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">248</td><td><pre>              .&#039;requested-attributes&#039;
</pre></td></tr><tr class="notCovered"><td class="number">249</td><td><pre>              .$this-&gt;getStringLength(&#039;job-uri&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">250</td><td><pre>              .&#039;job-uri&#039;
</pre></td></tr><tr class="notCovered"><td class="number">251</td><td><pre>              .chr(0x44) // keyword
</pre></td></tr><tr class="notCovered"><td class="number">252</td><td><pre>              .$this-&gt;getStringLength(&#039;&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">253</td><td><pre>              .&#039;&#039;
</pre></td></tr><tr class="notCovered"><td class="number">254</td><td><pre>              .$this-&gt;getStringLength(&#039;job-name&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">255</td><td><pre>              .&#039;job-name&#039;
</pre></td></tr><tr class="notCovered"><td class="number">256</td><td><pre>              .chr(0x44) // keyword
</pre></td></tr><tr class="notCovered"><td class="number">257</td><td><pre>              .$this-&gt;getStringLength(&#039;&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">258</td><td><pre>              .&#039;&#039;
</pre></td></tr><tr class="notCovered"><td class="number">259</td><td><pre>              .$this-&gt;getStringLength(&#039;job-state&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">260</td><td><pre>              .&#039;job-state&#039;
</pre></td></tr><tr class="notCovered"><td class="number">261</td><td><pre>              .chr(0x44) // keyword
</pre></td></tr><tr class="notCovered"><td class="number">262</td><td><pre>              .$this-&gt;getStringLength(&#039;&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">263</td><td><pre>              .&#039;&#039;
</pre></td></tr><tr class="notCovered"><td class="number">264</td><td><pre>              .$this-&gt;getStringLength(&#039;job-state-reason&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">265</td><td><pre>              .&#039;job-state-reason&#039;;
</pre></td></tr><tr class="notCovered"><td class="number">266</td><td><pre>        } else { # cups 1.4.4 doesn&#039;t return much of anything without this
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>267</td><td><pre>            $content .=
</pre></td></tr><tr class="covered"><td class="number">268</td><td><pre>              chr(0x44) // keyword
</pre></td></tr><tr class="covered"><td class="number">269</td><td><pre>              .$this-&gt;getStringLength(&#039;requested-attributes&#039;)
</pre></td></tr><tr class="covered"><td class="number">270</td><td><pre>              .&#039;requested-attributes&#039;
</pre></td></tr><tr class="covered"><td class="number">271</td><td><pre>              .$this-&gt;getStringLength(&#039;all&#039;)
</pre></td></tr><tr class="covered"><td class="number">272</td><td><pre>              .&#039;all&#039;;
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>273</td><td><pre>        }
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>274</td><td><pre>
</pre></td></tr><tr class="covered"><td class="number">275</td><td><pre>        $content .= chr(0x03); // end-of-attributes | end-of-attributes-tag
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>276</td><td><pre>
</pre></td></tr><tr class="covered"><td class="number">277</td><td><pre>        $headers = [&#039;Content-Type&#039; =&gt; &#039;application/ipp&#039;];
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>278</td><td><pre>
</pre></td></tr><tr class="covered"><td class="number">279</td><td><pre>        return new Request(&#039;POST&#039;, &#039;/jobs/&#039;, $headers, $content);
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>280</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>281</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>282</td><td><pre>    /**
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>283</td><td><pre>     * @param string $uri
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>284</td><td><pre>     * @param bool $subset
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>285</td><td><pre>     * @param string $attributesGroup
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>286</td><td><pre>     *
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>287</td><td><pre>     * @return \GuzzleHttp\Psr7\Request
</pre></td></tr><tr><td class="number"><a name="prepareGetListRequest"></a>288</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>289</td><td><pre>    protected function prepareLoadAttributesRequest($uri, $subset = false, $attributesGroup = &#039;all&#039;)
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>290</td><td><pre>    {
</pre></td></tr><tr class="notCovered"><td class="number">291</td><td><pre>        $charset = $this-&gt;buildCharset();
</pre></td></tr><tr class="notCovered"><td class="number">292</td><td><pre>        $language = $this-&gt;buildLanguage();
</pre></td></tr><tr class="notCovered"><td class="number">293</td><td><pre>        $operationId = $this-&gt;buildOperationId();
</pre></td></tr><tr class="notCovered"><td class="number">294</td><td><pre>        $username = $this-&gt;buildUsername();
</pre></td></tr><tr class="notCovered"><td class="number">295</td><td><pre>        $jobUri = $this-&gt;buildJobURI($uri);
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>296</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">297</td><td><pre>        $content = chr(0x01).chr(0x01) // 1.1  | version-number
</pre></td></tr><tr class="notCovered"><td class="number">298</td><td><pre>          .chr(0x00).chr(0x09) // Get-Job-Attributes | operation-id
</pre></td></tr><tr class="notCovered"><td class="number">299</td><td><pre>          .$operationId //           request-id
</pre></td></tr><tr class="notCovered"><td class="number">300</td><td><pre>          .chr(0x01) // start operation-attributes | operation-attributes-tag
</pre></td></tr><tr class="notCovered"><td class="number">301</td><td><pre>          .$charset
</pre></td></tr><tr class="notCovered"><td class="number">302</td><td><pre>          .$language
</pre></td></tr><tr class="notCovered"><td class="number">303</td><td><pre>          .$jobUri
</pre></td></tr><tr class="notCovered"><td class="number">304</td><td><pre>          .$username;
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>305</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">306</td><td><pre>        if ($subset) {
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>307</td><td><pre>            $content .=
</pre></td></tr><tr class="notCovered"><td class="number">308</td><td><pre>              chr(0x44) // keyword
</pre></td></tr><tr class="notCovered"><td class="number">309</td><td><pre>              .$this-&gt;getStringLength(&#039;requested-attributes&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">310</td><td><pre>              .&#039;requested-attributes&#039;
</pre></td></tr><tr class="notCovered"><td class="number">311</td><td><pre>              .$this-&gt;getStringLength(&#039;job-uri&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">312</td><td><pre>              .&#039;job-uri&#039;
</pre></td></tr><tr class="notCovered"><td class="number">313</td><td><pre>              .chr(0x44) // keyword
</pre></td></tr><tr class="notCovered"><td class="number">314</td><td><pre>              .$this-&gt;getStringLength(&#039;&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">315</td><td><pre>              .&#039;&#039;
</pre></td></tr><tr class="notCovered"><td class="number">316</td><td><pre>              .$this-&gt;getStringLength(&#039;job-name&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">317</td><td><pre>              .&#039;job-name&#039;
</pre></td></tr><tr class="notCovered"><td class="number">318</td><td><pre>              .chr(0x44) // keyword
</pre></td></tr><tr class="notCovered"><td class="number">319</td><td><pre>              .$this-&gt;getStringLength(&#039;&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">320</td><td><pre>              .&#039;&#039;
</pre></td></tr><tr class="notCovered"><td class="number">321</td><td><pre>              .$this-&gt;getStringLength(&#039;job-state&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">322</td><td><pre>              .&#039;job-state&#039;
</pre></td></tr><tr class="notCovered"><td class="number">323</td><td><pre>              .chr(0x44) // keyword
</pre></td></tr><tr class="notCovered"><td class="number">324</td><td><pre>              .$this-&gt;getStringLength(&#039;&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">325</td><td><pre>              .&#039;&#039;
</pre></td></tr><tr class="notCovered"><td class="number">326</td><td><pre>              .$this-&gt;getStringLength(&#039;job-state-reason&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">327</td><td><pre>              .&#039;job-state-reason&#039;;
</pre></td></tr><tr class="notCovered"><td class="number">328</td><td><pre>        } elseif ($attributesGroup) {
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>329</td><td><pre>            switch ($attributesGroup) {
</pre></td></tr><tr class="notCovered"><td class="number">330</td><td><pre>                case &#039;job-template&#039;:
</pre></td></tr><tr class="notCovered"><td class="number">331</td><td><pre>                    break;
</pre></td></tr><tr class="notCovered"><td class="number">332</td><td><pre>                case &#039;job-description&#039;:
</pre></td></tr><tr class="notCovered"><td class="number">333</td><td><pre>                    break;
</pre></td></tr><tr class="notCovered"><td class="number">334</td><td><pre>                case &#039;all&#039;:
</pre></td></tr><tr class="notCovered"><td class="number">335</td><td><pre>                    break;
</pre></td></tr><tr class="notCovered"><td class="number">336</td><td><pre>                default:
</pre></td></tr><tr class="notCovered"><td class="number">337</td><td><pre>                    trigger_error(_(&#039;not a valid attribute group: &#039;).$attributesGroup, E_USER_NOTICE);
</pre></td></tr><tr class="notCovered"><td class="number">338</td><td><pre>                    $attributesGroup = &#039;&#039;;
</pre></td></tr><tr class="notCovered"><td class="number">339</td><td><pre>                    break;
</pre></td></tr><tr class="notCovered"><td class="number">340</td><td><pre>            }
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>341</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>342</td><td><pre>            $content .=
</pre></td></tr><tr class="notCovered"><td class="number">343</td><td><pre>              chr(0x44) // keyword
</pre></td></tr><tr class="notCovered"><td class="number">344</td><td><pre>              .$this-&gt;getStringLength(&#039;requested-attributes&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">345</td><td><pre>              .&#039;requested-attributes&#039;
</pre></td></tr><tr class="notCovered"><td class="number">346</td><td><pre>              .$this-&gt;getStringLength($attributesGroup)
</pre></td></tr><tr class="notCovered"><td class="number">347</td><td><pre>              .$attributesGroup;
</pre></td></tr><tr class="notCovered"><td class="number">348</td><td><pre>        }
</pre></td></tr><tr class="notCovered"><td class="number">349</td><td><pre>        $content .= chr(0x03); // end-of-attributes | end-of-attributes-tag
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>350</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">351</td><td><pre>        $headers = [&#039;Content-Type&#039; =&gt; &#039;application/ipp&#039;];
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>352</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">353</td><td><pre>        return new Request(&#039;POST&#039;, &#039;/jobs/&#039;, $headers, $content);
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>354</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>355</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>356</td><td><pre>    /**
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>357</td><td><pre>     * @param string $uri
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>358</td><td><pre>     *
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>359</td><td><pre>     * @return \GuzzleHttp\Psr7\Request
</pre></td></tr><tr><td class="number"><a name="prepareLoadAttributesRequest"></a>360</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>361</td><td><pre>    protected function prepareCancelRequest($uri)
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>362</td><td><pre>    {
</pre></td></tr><tr class="notCovered"><td class="number">363</td><td><pre>        $charset = $this-&gt;buildCharset();
</pre></td></tr><tr class="notCovered"><td class="number">364</td><td><pre>        $language = $this-&gt;buildLanguage();
</pre></td></tr><tr class="notCovered"><td class="number">365</td><td><pre>        $operationId = $this-&gt;buildOperationId();
</pre></td></tr><tr class="notCovered"><td class="number">366</td><td><pre>        $username = $this-&gt;buildUsername();
</pre></td></tr><tr class="notCovered"><td class="number">367</td><td><pre>        $jobUri = $this-&gt;buildJobURI($uri);
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>368</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>369</td><td><pre>        // Needs a build function call.
</pre></td></tr><tr class="notCovered"><td class="number">370</td><td><pre>        $requestBodyMalformed = &#039;&#039;;
</pre></td></tr><tr class="notCovered"><td class="number">371</td><td><pre>        $message = &#039;&#039;;
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>372</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">373</td><td><pre>        $content = chr(0x01).chr(0x01) // 1.1  | version-number
</pre></td></tr><tr class="notCovered"><td class="number">374</td><td><pre>          .chr(0x00).chr(0x08) // cancel-Job | operation-id
</pre></td></tr><tr class="notCovered"><td class="number">375</td><td><pre>          .$operationId //           request-id
</pre></td></tr><tr class="notCovered"><td class="number">376</td><td><pre>          .$requestBodyMalformed
</pre></td></tr><tr class="notCovered"><td class="number">377</td><td><pre>          .chr(0x01) // start operation-attributes | operation-attributes-tag
</pre></td></tr><tr class="notCovered"><td class="number">378</td><td><pre>          .$charset
</pre></td></tr><tr class="notCovered"><td class="number">379</td><td><pre>          .$language
</pre></td></tr><tr class="notCovered"><td class="number">380</td><td><pre>          .$jobUri
</pre></td></tr><tr class="notCovered"><td class="number">381</td><td><pre>          .$username
</pre></td></tr><tr class="notCovered"><td class="number">382</td><td><pre>          .$message
</pre></td></tr><tr class="notCovered"><td class="number">383</td><td><pre>          .chr(0x03); // end-of-attributes | end-of-attributes-tag
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>384</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">385</td><td><pre>        $headers = [&#039;Content-Type&#039; =&gt; &#039;application/ipp&#039;];
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>386</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">387</td><td><pre>        return new Request(&#039;POST&#039;, &#039;/jobs/&#039;, $headers, $content);
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>388</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>389</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>390</td><td><pre>    /**
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>391</td><td><pre>     * @param string $uri
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>392</td><td><pre>     *
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>393</td><td><pre>     * @return \GuzzleHttp\Psr7\Request
</pre></td></tr><tr><td class="number"><a name="prepareCancelRequest"></a>394</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>395</td><td><pre>    protected function prepareReleaseRequest($uri)
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>396</td><td><pre>    {
</pre></td></tr><tr class="notCovered"><td class="number">397</td><td><pre>        $charset = $this-&gt;buildCharset();
</pre></td></tr><tr class="notCovered"><td class="number">398</td><td><pre>        $language = $this-&gt;buildLanguage();
</pre></td></tr><tr class="notCovered"><td class="number">399</td><td><pre>        $operationId = $this-&gt;buildOperationId();
</pre></td></tr><tr class="notCovered"><td class="number">400</td><td><pre>        $username = $this-&gt;buildUsername();
</pre></td></tr><tr class="notCovered"><td class="number">401</td><td><pre>        $jobUri = $this-&gt;buildJobURI($uri);
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>402</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>403</td><td><pre>        // Needs a build function call.
</pre></td></tr><tr class="notCovered"><td class="number">404</td><td><pre>        $message = &#039;&#039;;
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>405</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">406</td><td><pre>        $content = chr(0x01).chr(0x01) // 1.1  | version-number
</pre></td></tr><tr class="notCovered"><td class="number">407</td><td><pre>          .chr(0x00).chr(0x0d) // release-Job | operation-id
</pre></td></tr><tr class="notCovered"><td class="number">408</td><td><pre>          .$operationId //           request-id
</pre></td></tr><tr class="notCovered"><td class="number">409</td><td><pre>          .chr(0x01) // start operation-attributes | operation-attributes-tag
</pre></td></tr><tr class="notCovered"><td class="number">410</td><td><pre>          .$charset
</pre></td></tr><tr class="notCovered"><td class="number">411</td><td><pre>          .$language
</pre></td></tr><tr class="notCovered"><td class="number">412</td><td><pre>          .$jobUri
</pre></td></tr><tr class="notCovered"><td class="number">413</td><td><pre>          .$username
</pre></td></tr><tr class="notCovered"><td class="number">414</td><td><pre>          .$message
</pre></td></tr><tr class="notCovered"><td class="number">415</td><td><pre>          .chr(0x03); // end-of-attributes | end-of-attributes-tag
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>416</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">417</td><td><pre>        $headers = [&#039;Content-Type&#039; =&gt; &#039;application/ipp&#039;];
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>418</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">419</td><td><pre>        return new Request(&#039;POST&#039;, &#039;/jobs/&#039;, $headers, $content);
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>420</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>421</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>422</td><td><pre>    /**
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>423</td><td><pre>     * @param string $uri
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>424</td><td><pre>     * @param string $until
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>425</td><td><pre>     *
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>426</td><td><pre>     * @return \GuzzleHttp\Psr7\Request
</pre></td></tr><tr><td class="number"><a name="prepareReleaseRequest"></a>427</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>428</td><td><pre>    protected function prepareHoldRequest($uri, $until = &#039;indefinite&#039;)
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>429</td><td><pre>    {
</pre></td></tr><tr class="notCovered"><td class="number">430</td><td><pre>        $charset = $this-&gt;buildCharset();
</pre></td></tr><tr class="notCovered"><td class="number">431</td><td><pre>        $language = $this-&gt;buildLanguage();
</pre></td></tr><tr class="notCovered"><td class="number">432</td><td><pre>        $operationId = $this-&gt;buildOperationId();
</pre></td></tr><tr class="notCovered"><td class="number">433</td><td><pre>        $username = $this-&gt;buildUsername();
</pre></td></tr><tr class="notCovered"><td class="number">434</td><td><pre>        $jobUri = $this-&gt;buildJobURI($uri);
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>435</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>436</td><td><pre>        // Needs a build function call.
</pre></td></tr><tr class="notCovered"><td class="number">437</td><td><pre>        $message = &#039;&#039;;
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>438</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>439</td><td><pre>        $untilStrings = [
</pre></td></tr><tr class="notCovered"><td class="number">440</td><td><pre>          &#039;no-hold&#039;,
</pre></td></tr><tr class="notCovered"><td class="number">441</td><td><pre>          &#039;day-time&#039;,
</pre></td></tr><tr class="notCovered"><td class="number">442</td><td><pre>          &#039;evening&#039;,
</pre></td></tr><tr class="notCovered"><td class="number">443</td><td><pre>          &#039;night&#039;,
</pre></td></tr><tr class="notCovered"><td class="number">444</td><td><pre>          &#039;weekend&#039;,
</pre></td></tr><tr class="notCovered"><td class="number">445</td><td><pre>          &#039;second-shift&#039;,
</pre></td></tr><tr class="notCovered"><td class="number">446</td><td><pre>          &#039;third-shift&#039;,
</pre></td></tr><tr class="notCovered"><td class="number">447</td><td><pre>        ];
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>448</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">449</td><td><pre>        if (!in_array($until, $untilStrings)) {
</pre></td></tr><tr class="notCovered"><td class="number">450</td><td><pre>            $until = &#039;indefinite&#039;;
</pre></td></tr><tr class="notCovered"><td class="number">451</td><td><pre>        }
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>452</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">453</td><td><pre>        $holdUntil = chr(0x42) // keyword
</pre></td></tr><tr class="notCovered"><td class="number">454</td><td><pre>          .$this-&gt;getStringLength(&#039;job-hold-until&#039;)
</pre></td></tr><tr class="notCovered"><td class="number">455</td><td><pre>          .&#039;job-hold-until&#039;
</pre></td></tr><tr class="notCovered"><td class="number">456</td><td><pre>          .$this-&gt;getStringLength($until)
</pre></td></tr><tr class="notCovered"><td class="number">457</td><td><pre>          .$until;
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>458</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">459</td><td><pre>        $content = chr(0x01).chr(0x01) // 1.1  | version-number
</pre></td></tr><tr class="notCovered"><td class="number">460</td><td><pre>          .chr(0x00).chr(0x0C) // hold-Job | operation-id
</pre></td></tr><tr class="notCovered"><td class="number">461</td><td><pre>          .$operationId //           request-id
</pre></td></tr><tr class="notCovered"><td class="number">462</td><td><pre>          .chr(0x01) // start operation-attributes | operation-attributes-tag
</pre></td></tr><tr class="notCovered"><td class="number">463</td><td><pre>          .$charset
</pre></td></tr><tr class="notCovered"><td class="number">464</td><td><pre>          .$language
</pre></td></tr><tr class="notCovered"><td class="number">465</td><td><pre>          .$username
</pre></td></tr><tr class="notCovered"><td class="number">466</td><td><pre>          .$jobUri
</pre></td></tr><tr class="notCovered"><td class="number">467</td><td><pre>          .$message
</pre></td></tr><tr class="notCovered"><td class="number">468</td><td><pre>          .$holdUntil
</pre></td></tr><tr class="notCovered"><td class="number">469</td><td><pre>          .chr(0x03); // end-of-attributes | end-of-attributes-tag
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>470</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">471</td><td><pre>        $headers = [&#039;Content-Type&#039; =&gt; &#039;application/ipp&#039;];
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>472</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">473</td><td><pre>        return new Request(&#039;POST&#039;, &#039;/jobs/&#039;, $headers, $content);
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>474</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>475</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>476</td><td><pre>    /**
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>477</td><td><pre>     * @param string $uri
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>478</td><td><pre>     *
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>479</td><td><pre>     * @return \GuzzleHttp\Psr7\Request
</pre></td></tr><tr><td class="number"><a name="prepareHoldRequest"></a>480</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>481</td><td><pre>    protected function prepareRestartRequest($uri)
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>482</td><td><pre>    {
</pre></td></tr><tr class="notCovered"><td class="number">483</td><td><pre>        $charset = $this-&gt;buildCharset();
</pre></td></tr><tr class="notCovered"><td class="number">484</td><td><pre>        $language = $this-&gt;buildLanguage();
</pre></td></tr><tr class="notCovered"><td class="number">485</td><td><pre>        $operationId = $this-&gt;buildOperationId();
</pre></td></tr><tr class="notCovered"><td class="number">486</td><td><pre>        $username = $this-&gt;buildUsername();
</pre></td></tr><tr class="notCovered"><td class="number">487</td><td><pre>        $jobUri = $this-&gt;buildJobURI($uri);
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>488</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>489</td><td><pre>        // Needs a build function call.
</pre></td></tr><tr class="notCovered"><td class="number">490</td><td><pre>        $message = &#039;&#039;;
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>491</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">492</td><td><pre>        $content = chr(0x01).chr(0x01) // 1.1  | version-number
</pre></td></tr><tr class="notCovered"><td class="number">493</td><td><pre>          .chr(0x00).chr(0x0E) // release-Job | operation-id
</pre></td></tr><tr class="notCovered"><td class="number">494</td><td><pre>          .$operationId //           request-id
</pre></td></tr><tr class="notCovered"><td class="number">495</td><td><pre>          .chr(0x01) // start operation-attributes | operation-attributes-tag
</pre></td></tr><tr class="notCovered"><td class="number">496</td><td><pre>          .$charset
</pre></td></tr><tr class="notCovered"><td class="number">497</td><td><pre>          .$language
</pre></td></tr><tr class="notCovered"><td class="number">498</td><td><pre>          .$jobUri
</pre></td></tr><tr class="notCovered"><td class="number">499</td><td><pre>          .$username
</pre></td></tr><tr class="notCovered"><td class="number">500</td><td><pre>          .$message
</pre></td></tr><tr class="notCovered"><td class="number">501</td><td><pre>          .chr(0x03); // end-of-attributes | end-of-attributes-tag
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>502</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">503</td><td><pre>        $headers = [&#039;Content-Type&#039; =&gt; &#039;application/ipp&#039;];
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>504</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">505</td><td><pre>        return new Request(&#039;POST&#039;, &#039;/jobs/&#039;, $headers, $content);
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>506</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>507</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>508</td><td><pre>    /**
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>509</td><td><pre>     * @param \Smalot\Cups\Model\JobInterface $job
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>510</td><td><pre>     * @param $item
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>511</td><td><pre>     *
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>512</td><td><pre>     * @return \Smalot\Cups\Model\JobInterface
</pre></td></tr><tr><td class="number"><a name="prepareRestartRequest"></a>513</td><td><pre>     */
</pre></td></tr><tr><td class="number"><a name="fillAttributes"></a>514</td><td><pre>    protected function fillAttributes(JobInterface $job, $item)
</pre></td></tr><tr><td class="number"><a name="fillAttributes"></a>515</td><td><pre>    {
</pre></td></tr><tr class="notCovered"><td class="number">516</td><td><pre>        $job-&gt;setId($item[&#039;job-id&#039;][0]);
</pre></td></tr><tr class="notCovered"><td class="number">517</td><td><pre>        $job-&gt;setUri($item[&#039;job-uri&#039;][0]);
</pre></td></tr><tr class="notCovered"><td class="number">518</td><td><pre>        $job-&gt;setName($item[&#039;job-name&#039;][0]);
</pre></td></tr><tr class="notCovered"><td class="number">519</td><td><pre>        $job-&gt;setPrinterUri($item[&#039;job-printer-uri&#039;][0]);
</pre></td></tr><tr class="notCovered"><td class="number">520</td><td><pre>        $job-&gt;setUsername($item[&#039;job-originating-user-name&#039;][0]);
</pre></td></tr><tr class="notCovered"><td class="number">521</td><td><pre>        $job-&gt;setState($item[&#039;job-state&#039;][0]);
</pre></td></tr><tr class="notCovered"><td class="number">522</td><td><pre>        $job-&gt;setStateReason($item[&#039;job-state-reasons&#039;][0]);
</pre></td></tr><tr><td class="number"><a name="fillAttributes"></a>523</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">524</td><td><pre>        if (isset($item[&#039;number-up&#039;][0])) {
</pre></td></tr><tr class="notCovered"><td class="number">525</td><td><pre>            $job-&gt;setCopies($item[&#039;number-up&#039;][0]);
</pre></td></tr><tr class="notCovered"><td class="number">526</td><td><pre>        }
</pre></td></tr><tr><td class="number"><a name="fillAttributes"></a>527</td><td><pre>
</pre></td></tr><tr><td class="number"><a name="fillAttributes"></a>528</td><td><pre>        // Merge with attributes already set.
</pre></td></tr><tr class="notCovered"><td class="number">529</td><td><pre>        $attributes = $job-&gt;getAttributes();
</pre></td></tr><tr class="notCovered"><td class="number">530</td><td><pre>        $attributes += $item;
</pre></td></tr><tr class="notCovered"><td class="number">531</td><td><pre>        $job-&gt;setAttributes($attributes);
</pre></td></tr><tr><td class="number"><a name="fillAttributes"></a>532</td><td><pre>
</pre></td></tr><tr class="notCovered"><td class="number">533</td><td><pre>        return $job;
</pre></td></tr><tr><td class="number"><a name="fillAttributes"></a>534</td><td><pre>    }
</pre></td></tr><tr><td class="number"><a name="fillAttributes"></a>535</td><td><pre>}
</pre></td></tr>
				</table>
			</div>
		</div>
		<div id="footer">
			<p>Code coverage report powered by <a href="http://atoum.org">atoum</a></p>
		</div>
	</body>
</html>
